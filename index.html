<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index</title>
  </head>
  <body>
    <h1>
        BANKID testing [index]
    </h1>

    <p>
        <a href="./step2.html">relative link to step2</a>
    </p>

    <p>
        <a href="./autostart.html">relative link to autostart</a>
    </p>

    <p>
        <a href="./autostart_simple.html">relative link to autostart_simple</a>
    </p>

    <p>
        <a id="rewrite" href="#">rewrite</a>
    </p>

    <p>
        <a id="normal" href="intent://?autostarttoken=0a47a844-2c02-4b80-adaf-725940037d6b&redirect=null#Intent;scheme=bankid;package=com.bankid.bus;end">normal</a>
    </p>
    
    <script>
        var normalEl = document.querySelector('#normal'),
            rewriteEl = document.querySelector('#rewrite'),
            rewriteFunc = function (e) {
                var url = normalEl.href;
                console.log('about to set window.location to [' + url + ']');
                window.location = url;
                return false;
            };

        rewriteEl.addEventListener('click', rewriteFunc);
    </script>
  </body>
</html>